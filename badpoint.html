<!DOCTYPE html>
<html lang="th">
<head>
	<meta charset="UTF-8">
	<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<style>
	body {
		padding: 20px;
	}
	.team-box {
		border: 2px solid #ccc;
		border-radius: 10px;
		padding: 20px;
		min-height: 200px;
		box-shadow: 0 0 10px rgba(0,0,0,0.05);
	}
	.team-box h2 {
		cursor: pointer;
	}
	.history-box {
		max-height: 300px;
		overflow-y: auto;
	}
</style>
</head>
<body>

	<div class="container text-center">
		<h1 class="mb-4"><i class="fa-solid fa-shuttlecock"></i> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô</h1>
		<div class="row mb-4">
			<div class="col-md-6 mb-3">
				<div class="team-box bg-light">
					<input type="text" class="form-control mb-2" id="team1Name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà 1">
					<h2 class="text-primary" onclick="addPoint(1)">
						‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score1">0</span>
					</h2>
					<button class="btn btn-danger btn-sm" onclick="removePoint(1)">
						<i class="fa fa-minus"></i> -1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
					</button>
				</div>
			</div>
			<div class="col-md-6 mb-3">
				<div class="team-box bg-light">
					<input type="text" class="form-control mb-2" id="team2Name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏ó‡∏µ‡πà 2">
					<h2 class="text-success" onclick="addPoint(2)">
						‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score2">0</span>
					</h2>
					<button class="btn btn-danger btn-sm" onclick="removePoint(2)">
						<i class="fa fa-minus"></i> -1 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
					</button>
				</div>
			</div>
		</div>

		<h3 id="result" class="mb-3 text-warning"></h3>

		<div class="mb-4">
			<button class="btn btn-success me-2" onclick="saveMatch()">
				<i class="fa fa-floppy-disk"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•
			</button>
			<button class="btn btn-secondary" onclick="resetMatch()">
				<i class="fa fa-rotate-left"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
			</button>
		</div>

		<div class="history-box text-start">
			<h4><i class="fa fa-clock"></i> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h4>
			<ul id="matchHistory" class="list-group"></ul>
		</div>
	</div>

	<script>
		let score1 = 0;
		let score2 = 0;
		let gameOver = false;

		function updateUI() {
			document.getElementById("score1").textContent = score1;
			document.getElementById("score2").textContent = score2;
			checkWinner();
		}

		function addPoint(team) {
			if (gameOver) return;
			if (team === 1) score1++;
			else score2++;
			updateUI();
		}

		function removePoint(team) {
			if (gameOver) return;
			if (team === 1 && score1 > 0) score1--;
			else if (team === 2 && score2 > 0) score2--;
			updateUI();
		}

		function checkWinner() {
			if ((score1 >= 21 || score2 >= 21) && Math.abs(score1 - score2) >= 2) {
				declareWinner();
			} else if (score1 === 30 || score2 === 30) {
				declareWinner();
			}
		}

		function declareWinner() {
			gameOver = true;
			const team1Name = document.getElementById("team1Name").value || "‡∏ó‡∏µ‡∏° 1";
			const team2Name = document.getElementById("team2Name").value || "‡∏ó‡∏µ‡∏° 2";
			const winner = score1 > score2 ? team1Name : team2Name;
			document.getElementById("result").textContent = `üèÜ ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞: ${winner}`;
			Swal.fire({
				icon: 'success',
				title: `üéâ ${winner} ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞!`,
				showConfirmButton: false,
				timer: 2000
			});
		}

		function saveMatch() {
			if (!gameOver) {
				Swal.fire('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ó‡∏µ‡∏°‡∏ä‡∏ô‡∏∞!', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏ó‡∏µ‡∏°‡∏ä‡∏ô‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ', 'warning');
				return;
			}
			const team1Name = document.getElementById("team1Name").value || "‡∏ó‡∏µ‡∏° 1";
			const team2Name = document.getElementById("team2Name").value || "‡∏ó‡∏µ‡∏° 2";
			const match = `${team1Name} (${score1}) vs ${team2Name} (${score2})`;

			let history = JSON.parse(localStorage.getItem("matches") || "[]");
			history.unshift(match);
			localStorage.setItem("matches", JSON.stringify(history));
			renderHistory();

			Swal.fire('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', '', 'success');
		}

		function resetMatch() {
			score1 = 0;
			score2 = 0;
			gameOver = false;
			document.getElementById("result").textContent = "";
			updateUI();
		}

		function renderHistory() {
			const list = document.getElementById("matchHistory");
			list.innerHTML = "";
			const history = JSON.parse(localStorage.getItem("matches") || "[]");
			history.forEach((item, index) => {
				const li = document.createElement("li");
				li.className = "list-group-item d-flex justify-content-between align-items-center";
				li.innerHTML = `
					${item}
<button class="btn btn-sm btn-outline-danger" onclick="deleteMatch(${index})">
<i class="fa fa-trash"></i>
</button>
				`;
				list.appendChild(li);
			});
		}

		function deleteMatch(index) {
			Swal.fire({
				title: '‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏ö?',
				text: "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?",
				icon: 'warning',
				showCancelButton: true,
				confirmButtonText: '‡∏•‡∏ö',
				cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'
			}).then((result) => {
				if (result.isConfirmed) {
					let history = JSON.parse(localStorage.getItem("matches") || "[]");
					history.splice(index, 1);
					localStorage.setItem("matches", JSON.stringify(history));
					renderHistory();
					Swal.fire('‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß!', '', 'success');
				}
			});
		}

		renderHistory();
	</script>

</body>
</html>
